# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class TrussCli < Formula
  desc "CLI to help manage many k8s clusters"
  homepage "https://github.com/get-bridge/truss-cli"
  version "0.3.10"

  depends_on "hashicorp/tap/vault"
  depends_on "kubectl"
  depends_on "sshuttle"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/get-bridge/truss-cli/releases/download/v0.3.10/truss-cli_0.3.10_Darwin_arm64.tar.gz"
      sha256 "f47bca2f4871f181e7a48fb6be65f9be51e1aba9f9484d5646dc24cffbff16e0"

      def install
        bin.install "truss"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/get-bridge/truss-cli/releases/download/v0.3.10/truss-cli_0.3.10_Darwin_x86_64.tar.gz"
      sha256 "f29fdd92fbec7e9faf6ad907844fd0fb9ff1cf35f148450c7042e9c3c28695bf"

      def install
        bin.install "truss"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/get-bridge/truss-cli/releases/download/v0.3.10/truss-cli_0.3.10_Linux_arm64.tar.gz"
      sha256 "9c0d5491abb9a7fb672ed4312822d7b1a65342905677c710632e0f57673c9e8e"

      def install
        bin.install "truss"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/get-bridge/truss-cli/releases/download/v0.3.10/truss-cli_0.3.10_Linux_x86_64.tar.gz"
      sha256 "c37db7eaf60e4fb907e2ed522862ff295a95b56bd8c266ad953199f247910f3a"

      def install
        bin.install "truss"
      end
    end
  end

  test do
    system "bin/truss", "help"
  end
end
